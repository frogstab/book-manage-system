{"remainingRequest":"C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\src\\views\\admin\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\src\\views\\admin\\Main.vue","mtime":1741784920000},{"path":"C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1766110578965},{"path":"C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1766110581748},{"path":"C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1766110578965},{"path":"C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1766110582465}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMaW5lQ2hhcnQgZnJvbSAiQC9jb21wb25lbnRzL0xpbmVDaGFydCI7CmltcG9ydCBQaWVDaGFydCBmcm9tICJAL2NvbXBvbmVudHMvUGllQ2hhcnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTGluZUNoYXJ0LAogICAgUGllQ2hhcnQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyVmFsdWVzOiBbXSwKICAgICAgdXNlckRhdGVzOiBbXSwKICAgICAgbW9kZWxEYXRlczogW10sCiAgICAgIG1vZGVsVmFsdWVzOiBbXSwKICAgICAgcGllVmFsdWVzOiBbXSwKICAgICAgcGllVHlwZXM6IFtdLAogICAgICBub3RpY2VMaXN0OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyDpu5jorqTmn6U35aSpCiAgICB0aGlzLnVzZXJEYXRlc1NlbGVjdGVkKDM2NSk7CiAgICAvLyDpu5jorqTmn6U35aSpCiAgICB0aGlzLm1vZGVsRGF0ZXNTZWxlY3RlZCgzNjUpOwogICAgdGhpcy5sb2FkUGllQ2hhcnRzKCk7CiAgICB0aGlzLmxvYWRNZXNzYWdlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliqDovb3mtojmga/mlbDmja4KICAgIGxvYWRNZXNzYWdlKCkgewogICAgICBjb25zdCBtZXNzYWdlUXVlcnlEdG8gPSB7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBzaXplOiA0CiAgICAgIH07CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoYC9ub3RpY2UvcXVlcnlgLCBtZXNzYWdlUXVlcnlEdG8pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gcmVzcG9uc2U7CiAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLm5vdGljZUxpc3QgPSBkYXRhLmRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBsb2FkUGllQ2hhcnRzKCkgewogICAgICB0aGlzLiRheGlvcy5nZXQoYC92aWV3cy9zdGF0aWNDb250cm9sc2ApLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gcmVzcG9uc2U7CiAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnBpZVZhbHVlcyA9IGRhdGEuZGF0YS5tYXAoZW50aXR5ID0+IGVudGl0eS5jb3VudCk7CiAgICAgICAgICB0aGlzLnBpZVR5cGVzID0gZGF0YS5kYXRhLm1hcChlbnRpdHkgPT4gZW50aXR5Lm5hbWUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbW9kZWxEYXRlc1NlbGVjdGVkKHRpbWUpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KGAvYm9vay9kYXlzUXVlcnkvJHt0aW1lfWApLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gcmVzcG9uc2U7CiAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLm1vZGVsVmFsdWVzID0gZGF0YS5kYXRhLm1hcChlbnRpdHkgPT4gZW50aXR5LmNvdW50KTsKICAgICAgICAgIHRoaXMubW9kZWxEYXRlcyA9IGRhdGEuZGF0YS5tYXAoZW50aXR5ID0+IGVudGl0eS5uYW1lKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVzZXJEYXRlc1NlbGVjdGVkKHRpbWUpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KGAvdXNlci9kYXlzUXVlcnkvJHt0aW1lfWApLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gcmVzcG9uc2U7CiAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnVzZXJWYWx1ZXMgPSBkYXRhLmRhdGEubWFwKGVudGl0eSA9PiBlbnRpdHkuY291bnQpOwogICAgICAgICAgdGhpcy51c2VyRGF0ZXMgPSBkYXRhLmRhdGEubWFwKGVudGl0eSA9PiBlbnRpdHkubmFtZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["LineChart","PieChart","components","data","userValues","userDates","modelDates","modelValues","pieValues","pieTypes","noticeList","created","userDatesSelected","modelDatesSelected","loadPieCharts","loadMessage","methods","messageQueryDto","current","size","$axios","post","then","response","code","get","map","entity","count","name","time"],"sources":["src/views/admin/Main.vue"],"sourcesContent":["<template>\r\n    <div style=\"padding: 0 10px;overflow-y: hidden;overflow-x: hidden;\">\r\n        <el-row>\r\n            <el-col :span=\"8\">\r\n                <div style=\"padding: 10px;box-sizing: border-box;\">\r\n                    <PieChart fontColor=\"#000\" bag=\"rgb(236, 245, 255)\" tag=\"基础数据\" :values=\"pieValues\"\r\n                        :types=\"pieTypes\" />\r\n                </div>\r\n                <div style=\"padding: 10px 20px;box-sizing: border-box;\">\r\n                    <h3>最新公告</h3>\r\n                    <div style=\"background-color: rgb(236, 245, 255);border-radius: 5px;padding: 5px 10px;\">\r\n                        <div style=\"margin-bottom: 20px;margin-top: 5px;\" v-for=\"(notice, index) in noticeList\" :key=\"index\">\r\n                            <div style=\"margin: 5px 0;cursor: pointer;\">\r\n                                <span style=\"font-size: 14px;\">{{ notice.name }}</span>\r\n                            </div>\r\n                            <div>\r\n                                <span style=\"font-size: 14px;\">时间：{{ notice.createTime }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                <div style=\"padding: 8px;box-sizing: border-box;\">\r\n                    <LineChart height=\"310px\" tag=\"用户数\" @on-selected=\"userDatesSelected\" :values=\"userValues\"\r\n                        :date=\"userDates\" />\r\n                </div>\r\n                <div style=\"padding: 8px;box-sizing: border-box;\">\r\n                    <LineChart height=\"310px\" tag=\"图书上架情况\" @on-selected=\"modelDatesSelected\" :values=\"modelValues\"\r\n                        :date=\"modelDates\" />\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n<script>\r\nimport LineChart from \"@/components/LineChart\"\r\nimport PieChart from \"@/components/PieChart\"\r\nexport default {\r\n    components: { LineChart, PieChart },\r\n    data() {\r\n        return {\r\n            userValues: [],\r\n            userDates: [],\r\n            modelDates: [],\r\n            modelValues: [],\r\n            pieValues: [],\r\n            pieTypes: [],\r\n            noticeList: []\r\n        }\r\n    },\r\n    created() {\r\n        // 默认查7天\r\n        this.userDatesSelected(365);\r\n        // 默认查7天\r\n        this.modelDatesSelected(365);\r\n        this.loadPieCharts();\r\n        this.loadMessage();\r\n    },\r\n    methods: {\r\n        // 加载消息数据\r\n        loadMessage() {\r\n            const messageQueryDto = {\r\n                current: 1,\r\n                size: 4\r\n            }\r\n            this.$axios.post(`/notice/query`, messageQueryDto).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.noticeList = data.data;\r\n                }\r\n            })\r\n        },\r\n        loadPieCharts() {\r\n            this.$axios.get(`/views/staticControls`).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.pieValues = data.data.map(entity => entity.count);\r\n                    this.pieTypes = data.data.map(entity => entity.name);\r\n                }\r\n            })\r\n        },\r\n        modelDatesSelected(time) {\r\n            this.$axios.get(`/book/daysQuery/${time}`).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.modelValues = data.data.map(entity => entity.count);\r\n                    this.modelDates = data.data.map(entity => entity.name);\r\n                }\r\n            })\r\n        },\r\n        userDatesSelected(time) {\r\n            this.$axios.get(`/user/daysQuery/${time}`).then(response => {\r\n                const { data } = response;\r\n                if (data.code === 200) {\r\n                    this.userValues = data.data.map(entity => entity.count);\r\n                    this.userDates = data.data.map(entity => entity.name);\r\n                }\r\n            })\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.status-success {\r\n    display: inline-block;\r\n    padding: 1px 5px;\r\n    border-radius: 2px;\r\n    background-color: rgb(201, 237, 249);\r\n    color: rgb(111, 106, 196);\r\n    font-size: 12px;\r\n}\r\n\r\n.status-error {\r\n    display: inline-block;\r\n    padding: 1px 5px;\r\n    border-radius: 2px;\r\n    background-color: rgb(233, 226, 134);\r\n    color: rgb(131, 138, 142);\r\n    color: rgb(111, 106, 196);\r\n    font-size: 12px;\r\n}\r\n</style>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAAA,SAAA;AACA,OAAAC,QAAA;AACA;EACAC,UAAA;IAAAF,SAAA;IAAAC;EAAA;EACAE,KAAA;IACA;MACAC,UAAA;MACAC,SAAA;MACAC,UAAA;MACAC,WAAA;MACAC,SAAA;MACAC,QAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA;IACA,KAAAC,iBAAA;IACA;IACA,KAAAC,kBAAA;IACA,KAAAC,aAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACA;IACAD,YAAA;MACA,MAAAE,eAAA;QACAC,OAAA;QACAC,IAAA;MACA;MACA,KAAAC,MAAA,CAAAC,IAAA,kBAAAJ,eAAA,EAAAK,IAAA,CAAAC,QAAA;QACA;UAAApB;QAAA,IAAAoB,QAAA;QACA,IAAApB,IAAA,CAAAqB,IAAA;UACA,KAAAd,UAAA,GAAAP,IAAA,CAAAA,IAAA;QACA;MACA;IACA;IACAW,cAAA;MACA,KAAAM,MAAA,CAAAK,GAAA,0BAAAH,IAAA,CAAAC,QAAA;QACA;UAAApB;QAAA,IAAAoB,QAAA;QACA,IAAApB,IAAA,CAAAqB,IAAA;UACA,KAAAhB,SAAA,GAAAL,IAAA,CAAAA,IAAA,CAAAuB,GAAA,CAAAC,MAAA,IAAAA,MAAA,CAAAC,KAAA;UACA,KAAAnB,QAAA,GAAAN,IAAA,CAAAA,IAAA,CAAAuB,GAAA,CAAAC,MAAA,IAAAA,MAAA,CAAAE,IAAA;QACA;MACA;IACA;IACAhB,mBAAAiB,IAAA;MACA,KAAAV,MAAA,CAAAK,GAAA,oBAAAK,IAAA,IAAAR,IAAA,CAAAC,QAAA;QACA;UAAApB;QAAA,IAAAoB,QAAA;QACA,IAAApB,IAAA,CAAAqB,IAAA;UACA,KAAAjB,WAAA,GAAAJ,IAAA,CAAAA,IAAA,CAAAuB,GAAA,CAAAC,MAAA,IAAAA,MAAA,CAAAC,KAAA;UACA,KAAAtB,UAAA,GAAAH,IAAA,CAAAA,IAAA,CAAAuB,GAAA,CAAAC,MAAA,IAAAA,MAAA,CAAAE,IAAA;QACA;MACA;IACA;IACAjB,kBAAAkB,IAAA;MACA,KAAAV,MAAA,CAAAK,GAAA,oBAAAK,IAAA,IAAAR,IAAA,CAAAC,QAAA;QACA;UAAApB;QAAA,IAAAoB,QAAA;QACA,IAAApB,IAAA,CAAAqB,IAAA;UACA,KAAApB,UAAA,GAAAD,IAAA,CAAAA,IAAA,CAAAuB,GAAA,CAAAC,MAAA,IAAAA,MAAA,CAAAC,KAAA;UACA,KAAAvB,SAAA,GAAAF,IAAA,CAAAA,IAAA,CAAAuB,GAAA,CAAAC,MAAA,IAAAA,MAAA,CAAAE,IAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}