{"remainingRequest":"C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\src\\views\\admin\\CreateNotice.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\src\\views\\admin\\CreateNotice.vue","mtime":1741772526000},{"path":"C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1766110578965},{"path":"C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1766110581748},{"path":"C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1766110578965},{"path":"C:\\Users\\chen0\\Desktop\\book-manage-system\\source code\\book-manage-sys-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1766110582465}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFZGl0b3IgZnJvbSAiQC9jb21wb25lbnRzL0VkaXRvciI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBFZGl0b3IKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBub3RpY2U6IHt9LAogICAgICBzYXZlQXBpOiAnL25vdGljZS9zYXZlJywKICAgICAgdXBkYXRlQXBpOiAnL25vdGljZS91cGRhdGUnLAogICAgICBub3RpY2VPcGVyYXRpb246ICcnCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZE9wZXJhdGlvbigpOwogIH0sCiAgbWV0aG9kczogewogICAgb3BlcmF0aW9uKCkgewogICAgICBpZiAodGhpcy5ub3RpY2VPcGVyYXRpb24gPT09ICdzYXZlJykgewogICAgICAgIHRoaXMuc2F2ZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLnVwZGF0ZSgpOwogICAgfSwKICAgIGxvYWRPcGVyYXRpb24oKSB7CiAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ25vdGljZU9wZXJhdGlvbicpOwogICAgICBjb25zb2xlLmxvZyhvcGVyYXRpb24pOwogICAgICBpZiAob3BlcmF0aW9uID09PSAndXBkYXRlJykgewogICAgICAgIGNvbnN0IG5vdGljZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ25vdGljZUluZm8nKTsKICAgICAgICB0aGlzLm5vdGljZSA9IEpTT04ucGFyc2Uobm90aWNlKTsKICAgICAgfQogICAgICB0aGlzLm5vdGljZU9wZXJhdGlvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ25vdGljZU9wZXJhdGlvbicpOwogICAgfSwKICAgIHJlY2VpdmVEYXRhKGh0bWwpIHsKICAgICAgdGhpcy5ub3RpY2UuY29udGVudCA9IGh0bWw7CiAgICB9LAogICAgdXBkYXRlKCkgewogICAgICB0aGlzLiRheGlvcy5wdXQodGhpcy51cGRhdGVBcGksIHRoaXMubm90aWNlKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRpdGxlOiAn5YWs5ZGK5L+u5pS5JywKICAgICAgICAgICAgdGV4dDogJ+S/ruaUueaIkOWKnycsCiAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0aW1lcjogMTAwMAogICAgICAgICAgfSk7CiAgICAgICAgICAvLyDov5Tlm57kuIrkuIDnuqcKICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzYXZlKCkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuc2F2ZUFwaSwgdGhpcy5ub3RpY2UpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsKICAgICAgICAgICAgdGl0bGU6ICflhazlkYrmlrDlop4nLAogICAgICAgICAgICB0ZXh0OiAn5paw5aKe5oiQ5YqfJywKICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRpbWVyOiAxMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIC8vIOi/lOWbnuS4iuS4gOe6pwogICAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["Editor","components","data","notice","saveApi","updateApi","noticeOperation","created","loadOperation","methods","operation","save","update","sessionStorage","getItem","console","log","JSON","parse","receiveData","html","content","$axios","put","then","response","code","$swal","fire","title","text","icon","showConfirmButton","timer","$router","go","post"],"sources":["src/views/admin/CreateNotice.vue"],"sourcesContent":["<template>\r\n    <div style=\"background-color: rgb(248, 249, 250);\">\r\n        <div style=\"margin: 0 auto;padding: 30px 0;box-sizing: border-box;min-height: 100vh;\">\r\n            <p style=\"font-size: 22px;padding: 20px 0;\">{{ noticeOperation === 'save' ? '公告新增' : '公告修改' }}</p>\r\n            <div>\r\n                <div style=\"margin: 20px 0;\">\r\n                    <input type=\"text\" placeholder=\"标题\" v-model=\"notice.name\">\r\n                </div>\r\n                <div>\r\n                    <Editor height=\"calc(100vh - 500px)\" :receiveContent=\"notice.content\" @on-receive=\"receiveData\" />\r\n                </div>\r\n            </div>\r\n            <div style=\"margin: 20px 0;text-align: center;\">\r\n                <span class=\"operation-btn\" @click=\"operation\">\r\n                    {{ noticeOperation === 'save' ? '立即新增' : '立即修改' }}\r\n                    <i class=\"el-icon-right\"></i>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Editor from \"@/components/Editor\"\r\nexport default {\r\n    components: { Editor },\r\n    data() {\r\n        return {\r\n            notice: {},\r\n            saveApi: '/notice/save',\r\n            updateApi: '/notice/update',\r\n            noticeOperation: ''\r\n        }\r\n    },\r\n    created() {\r\n        this.loadOperation();\r\n    },\r\n    methods: {\r\n        operation() {\r\n            if (this.noticeOperation === 'save') {\r\n                this.save();\r\n                return;\r\n            }\r\n            this.update();\r\n        },\r\n        loadOperation() {\r\n            const operation = sessionStorage.getItem('noticeOperation');\r\n            console.log(operation);\r\n            if (operation === 'update') {\r\n                const notice = sessionStorage.getItem('noticeInfo');\r\n                this.notice = JSON.parse(notice);\r\n            }\r\n            this.noticeOperation = sessionStorage.getItem('noticeOperation');\r\n        },\r\n        receiveData(html) {\r\n            this.notice.content = html;\r\n        },\r\n        update() {\r\n            this.$axios.put(this.updateApi, this.notice).then(response => {\r\n                if (response.data.code === 200) {\r\n                    this.$swal.fire({\r\n                        title: '公告修改',\r\n                        text: '修改成功',\r\n                        icon: 'success',\r\n                        showConfirmButton: false,\r\n                        timer: 1000,\r\n                    });\r\n                    // 返回上一级\r\n                    this.$router.go(-1);\r\n                }\r\n            });\r\n        },\r\n        save() {\r\n            this.$axios.post(this.saveApi, this.notice).then(response => {\r\n                if (response.data.code === 200) {\r\n                    this.$swal.fire({\r\n                        title: '公告新增',\r\n                        text: '新增成功',\r\n                        icon: 'success',\r\n                        showConfirmButton: false,\r\n                        timer: 1000,\r\n                    });\r\n                    // 返回上一级\r\n                    this.$router.go(-1);\r\n                }\r\n            });\r\n        },\r\n    }\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\ninput {\r\n    outline: none;\r\n    border: none;\r\n    width: 100%;\r\n    padding: 18px 12px;\r\n    font-size: 24px;\r\n    box-sizing: border-box;\r\n    border-radius: 5px;\r\n    font-weight: bold;\r\n}\r\n\r\n.operation-btn {\r\n    padding: 14px 40px;\r\n    background-color: rgb(235, 237, 245);\r\n    color: rgb(43, 121, 203);\r\n    border: none;\r\n    font-size: 12px;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n}\r\n</style>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA,OAAAA,MAAA;AACA;EACAC,UAAA;IAAAD;EAAA;EACAE,KAAA;IACA;MACAC,MAAA;MACAC,OAAA;MACAC,SAAA;MACAC,eAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,aAAA;EACA;EACAC,OAAA;IACAC,UAAA;MACA,SAAAJ,eAAA;QACA,KAAAK,IAAA;QACA;MACA;MACA,KAAAC,MAAA;IACA;IACAJ,cAAA;MACA,MAAAE,SAAA,GAAAG,cAAA,CAAAC,OAAA;MACAC,OAAA,CAAAC,GAAA,CAAAN,SAAA;MACA,IAAAA,SAAA;QACA,MAAAP,MAAA,GAAAU,cAAA,CAAAC,OAAA;QACA,KAAAX,MAAA,GAAAc,IAAA,CAAAC,KAAA,CAAAf,MAAA;MACA;MACA,KAAAG,eAAA,GAAAO,cAAA,CAAAC,OAAA;IACA;IACAK,YAAAC,IAAA;MACA,KAAAjB,MAAA,CAAAkB,OAAA,GAAAD,IAAA;IACA;IACAR,OAAA;MACA,KAAAU,MAAA,CAAAC,GAAA,MAAAlB,SAAA,OAAAF,MAAA,EAAAqB,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAvB,IAAA,CAAAwB,IAAA;UACA,KAAAC,KAAA,CAAAC,IAAA;YACAC,KAAA;YACAC,IAAA;YACAC,IAAA;YACAC,iBAAA;YACAC,KAAA;UACA;UACA;UACA,KAAAC,OAAA,CAAAC,EAAA;QACA;MACA;IACA;IACAxB,KAAA;MACA,KAAAW,MAAA,CAAAc,IAAA,MAAAhC,OAAA,OAAAD,MAAA,EAAAqB,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAvB,IAAA,CAAAwB,IAAA;UACA,KAAAC,KAAA,CAAAC,IAAA;YACAC,KAAA;YACAC,IAAA;YACAC,IAAA;YACAC,iBAAA;YACAC,KAAA;UACA;UACA;UACA,KAAAC,OAAA,CAAAC,EAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}